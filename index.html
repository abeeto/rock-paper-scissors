<!DOCTYPE html>
<html lang="en"> 
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors!</title>
    </head>
    <body>
        <script>
            const OPTIONS = ["ROCK", "PAPER", "SCISSORS"]
            function getComputerChoice(){
                let choice = Math.floor(Math.random() * 3)
                return OPTIONS[choice]
            }
            function getHumanChoice(prevRoundMsg="") {
                let choice;
                while(choice !== "ROCK" && choice !== "PAPER" && choice !== "SCISSORS"){
                    choice = prompt(`${prevRoundMsg}Choose an option\nROCK\nPAPER\nSCISSORS`).toUpperCase()
                    console.log(choice);
                    if (choice !== "ROCK" && choice !== "PAPER" && choice !== "SCISSORS"){
                        prevRoundMsg="Invalid Input. Try again."
                    }
                }
                return choice
            }
            function playGame(){
                let humanScore = 0, computerScore = 0;
                let roundMsg = "";
                const playRound = (humanChoice, computerChoice) => {
                    const WHAT_BEATS = {
                        "ROCK":"SCISSORS",
                        "PAPER":"ROCK",
                        "SCISSORS":"PAPER",
                    }
                    if(humanChoice === computerChoice){
                        roundMsg = `It's a draw. You both chose ${humanChoice}. Your score: ${++humanScore} Computer Score: ${++computerScore}\n`;
                    }
                    else if (WHAT_BEATS[humanChoice] == computerChoice){
                        roundMsg = `You win! ${humanChoice} beats ${computerChoice}.Your score: ${++humanScore} Computer Score: ${computerScore}\n`
                    }else{
                        roundMsg = `You lose! ${computerChoice} beats ${humanChoice}.Your score: ${humanScore} Computer Score: ${++computerScore}\n`
                    }
                }
            }

            const optionsContainer = document.createElement('div');
            optionsContainer.classList.add('container');
            const bodyHTML = document.querySelector('body');

            const rockButton = document.createElement('button'),
                  paperButton = document.createElement('button'),
                  scissorsButton = document.createElement('button');
            
            rockButton.setAttribute('id', 'rock');
            paperButton.setAttribute('id', 'paper');
            scissorsButton.setAttribute('id', 'scissors');

            rockButton.innerText = "rock", paperButton.innerText = "paper", scissorsButton.innerText = "scissors";
            
            const optionsButtons = [rockButton, paperButton, scissorsButton];

            optionsButtons.forEach(
                option => optionsContainer.appendChild(option)
            )
            
            bodyHTML.appendChild(optionsContainer);
            optionsContainer.addEventListener('click', (e) => {
                switch(e.target.id) {
                    case "paper":
                        console.log('chose paper');
                        playRound("PAPER", )
                        break;
                    case "rock":
                        console.log('chose rock');
                        break;
                    case "scissors":
                        console.log('chose scissors');
                        break;
                    default:
                        console.log('idk you clicked something...')
                }
            })
            playGame();
        </script>
    </body>
</html>